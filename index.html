<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WRC Rally1 2026 Season Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header with Season Info -->
    <header>
        <div class="header-content">
            <h1>WRC RALLY1 2026</h1>
            <p class="season-tagline">World Rally Championship - Complete Season Tracker</p>
        </div>
        <nav class="main-nav">
            <button class="nav-btn active" data-view="calendar">Season Calendar</button>
            <button class="nav-btn" data-view="rally">Current Rally</button>
            <button class="nav-btn" data-view="drivers">Drivers</button>
            <button class="nav-btn" data-view="standings">Standings</button>
            <button class="nav-btn" data-view="tv">TV Schedule</button>
        </nav>
    </header>

    <!-- Current Race Week Banner -->
    <div id="raceWeekBanner" class="race-week-banner">
        <div class="banner-content">
            <span class="banner-label">CURRENT RACE WEEK</span>
            <span class="banner-rally" id="currentRallyName">Monte Carlo Rally</span>
            <span class="banner-dates" id="currentRallyDates">January 23-26, 2026</span>
            <span class="banner-round" id="currentRallyRound">Round 1 of 13</span>
        </div>
    </div>

    <main>
        <!-- Season Calendar View -->
        <div id="calendar-view" class="view active">
            <section class="card">
                <h2>2026 WRC Rally1 Season Calendar</h2>
                <p class="section-intro">Click on any rally to view detailed information, stages, and historical data.</p>
                <div class="season-calendar" id="seasonCalendar"></div>
            </section>

            <section class="card">
                <h2>Championship Points After Each Round</h2>
                <div class="points-progression" id="pointsProgression"></div>
            </section>
        </div>

        <!-- Rally Detail View -->
        <div id="rally-view" class="view">
            <!-- Rally Header -->
            <section class="rally-header-section" id="rallyHeaderSection">
                <div class="rally-header-bg" id="rallyHeaderBg"></div>
                <div class="rally-header-content">
                    <div class="rally-flag" id="rallyFlag"></div>
                    <h2 id="rallyTitle">Rally Monte Carlo</h2>
                    <p class="rally-dates" id="rallyDates">January 23-26, 2026</p>
                    <div class="rally-meta">
                        <span class="rally-round" id="rallyRound">Round 1/13</span>
                        <span class="rally-surface" id="rallySurface">Tarmac/Snow</span>
                        <span class="rally-distance" id="rallyDistance">1234.56 km</span>
                    </div>
                </div>
            </section>

            <!-- Rally Sub-Navigation -->
            <div class="rally-subnav">
                <button class="subnav-btn active" data-rally-view="overview">Overview</button>
                <button class="subnav-btn" data-rally-view="stages">Stages</button>
                <button class="subnav-btn" data-rally-view="results">Results</button>
                <button class="subnav-btn" data-rally-view="media">Videos & Photos</button>
                <button class="subnav-btn" data-rally-view="history">History</button>
            </div>

            <!-- Rally Overview Section -->
            <div id="rally-overview" class="rally-section active">
                <div class="grid-2">
                    <section class="card">
                        <h2>Rally Overview</h2>
                        <div id="rallyOverviewContent"></div>
                    </section>
                    <section class="card">
                        <h2>Current Standings</h2>
                        <div id="rallyCurrentStandings"></div>
                    </section>
                </div>
                <section class="card">
                    <h2>Rally Map</h2>
                    <div id="rallyMapOverview" class="rally-map-container"></div>
                </section>
            </div>

            <!-- Stages Section -->
            <div id="rally-stages" class="rally-section">
                <section class="card">
                    <h2>All Stages</h2>
                    <div class="stages-grid" id="stagesGrid"></div>
                </section>

                <!-- Selected Stage Detail -->
                <div id="stageDetail" class="stage-detail-container">
                    <section class="card">
                        <div class="stage-detail-header" id="stageDetailHeader"></div>
                    </section>

                    <div class="grid-2">
                        <section class="card">
                            <h3>Stage Map</h3>
                            <div id="stageMapContainer" class="stage-map-container"></div>
                        </section>
                        <section class="card">
                            <h3>Stage Profile</h3>
                            <div id="stageProfileContainer"></div>
                        </section>
                    </div>

                    <section class="card">
                        <h3>Stage Information</h3>
                        <div id="stageInfoContainer"></div>
                    </section>

                    <section class="card">
                        <h3>Stage Results</h3>
                        <div id="stageResultsContainer"></div>
                    </section>
                </div>
            </div>

            <!-- Results Section -->
            <div id="rally-results" class="rally-section">
                <section class="card">
                    <h2>Overall Rally Results</h2>
                    <div id="overallResults"></div>
                </section>
                <div class="grid-2">
                    <section class="card">
                        <h2>Stage Winners</h2>
                        <div id="stageWinners"></div>
                    </section>
                    <section class="card">
                        <h2>Power Stage</h2>
                        <div id="powerStageResults"></div>
                    </section>
                </div>
            </div>

            <!-- Media Section -->
            <div id="rally-media" class="rally-section">
                <section class="card">
                    <h2>Legendary Runs & Highlights</h2>
                    <div class="video-gallery" id="videoGallery"></div>
                </section>
                <section class="card">
                    <h2>Stage Photos</h2>
                    <div class="photo-gallery" id="photoGallery"></div>
                </section>
            </div>

            <!-- History Section -->
            <div id="rally-history" class="rally-section">
                <section class="card">
                    <h2>Rally History</h2>
                    <div id="rallyHistoryContent"></div>
                </section>
                <section class="card">
                    <h2>Past Winners</h2>
                    <div id="pastWinners"></div>
                </section>
                <section class="card">
                    <h2>Stage Records</h2>
                    <div id="stageRecords"></div>
                </section>
            </div>
        </div>

        <!-- Drivers View -->
        <div id="drivers-view" class="view">
            <section class="card">
                <h2>2026 Rally1 Drivers</h2>
                <div class="team-filter">
                    <button class="team-filter-btn active" data-team="all">All Teams</button>
                    <button class="team-filter-btn toyota" data-team="Toyota">Toyota</button>
                    <button class="team-filter-btn hyundai" data-team="Hyundai">Hyundai</button>
                    <button class="team-filter-btn ford" data-team="M-Sport Ford">M-Sport Ford</button>
                </div>
                <div class="drivers-grid" id="driversGrid"></div>
            </section>

            <!-- Driver Detail Modal -->
            <div id="driverModal" class="modal">
                <div class="modal-content driver-modal-content">
                    <button class="modal-close">&times;</button>
                    <div id="driverDetailContent"></div>
                </div>
            </div>
        </div>

        <!-- Standings View -->
        <div id="standings-view" class="view">
            <div class="grid-2">
                <section class="card">
                    <h2>Driver Championship Standings</h2>
                    <div id="driverChampionship"></div>
                </section>
                <section class="card">
                    <h2>Manufacturer Championship</h2>
                    <div id="manufacturerChampionship"></div>
                </section>
            </div>
            <section class="card">
                <h2>Points Breakdown by Rally</h2>
                <div id="pointsBreakdown"></div>
            </section>
        </div>

        <!-- TV Schedule View -->
        <div id="tv-view" class="view">
            <section class="card">
                <h2>TV Schedule</h2>
                <div class="timezone-selector">
                    <label for="timezoneSelect">Your Timezone:</label>
                    <select id="timezoneSelect"></select>
                    <span class="detected-tz" id="detectedTz"></span>
                </div>
                <div id="tvScheduleContent"></div>
            </section>
            <section class="card">
                <h2>Where to Watch</h2>
                <div class="broadcast-info" id="broadcastInfo"></div>
            </section>
        </div>
    </main>

    <!-- Stage Detail Modal -->
    <div id="stageModal" class="modal">
        <div class="modal-content stage-modal-content">
            <button class="modal-close">&times;</button>
            <div id="stageModalContent"></div>
        </div>
    </div>

    <!-- Video Player Modal -->
    <div id="videoModal" class="modal">
        <div class="modal-content video-modal-content">
            <button class="modal-close">&times;</button>
            <div id="videoPlayerContainer"></div>
        </div>
    </div>

    <!-- Photo Viewer Modal -->
    <div id="photoModal" class="modal">
        <div class="modal-content photo-modal-content">
            <button class="modal-close">&times;</button>
            <div id="photoViewerContainer"></div>
            <div class="photo-nav">
                <button id="photoPrev" class="photo-nav-btn">&larr; Previous</button>
                <span id="photoCounter">1 / 10</span>
                <button id="photoNext" class="photo-nav-btn">Next &rarr;</button>
            </div>
        </div>
    </div>

    <footer>
        <p>WRC Rally1 2026 Season Tracker | Unofficial Fan Site</p>
        <p>Data updates during live stages | All times shown in your local timezone</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
